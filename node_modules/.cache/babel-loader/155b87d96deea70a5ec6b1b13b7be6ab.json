{"ast":null,"code":"var _jsxFileName = \"/Users/lihong/workspace/myCourseWare/src/page/page5/index.js\";\nimport React, { Component } from 'react';\nexport default class Page5 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sentenceArr: [],\n      sentence: window.data[this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1)].sentence,\n      wordIndex: 1,\n      id: this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1),\n      data: window.data[this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1)],\n      t: null\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      sentenceArr: this.state.sentence.split(\" \")\n    });\n    this.state.t = setInterval(() => {\n      this.setState({\n        wordIndex: this.state.wordIndex + 1\n      }, () => {\n        if (this.state.wordIndex >= this.state.sentenceArr.length + 1) {\n          clearInterval(this.state.t);\n          this.setState({\n            wordIndex: 0\n          });\n        }\n      });\n    }, this.state.data.times);\n  }\n\n  componentWillUnmount() {\n    // 卸载异步操作设置状态\n    clearTimeout(this.state.t);\n\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  render() {\n    let _this$state = this.state,\n        sentenceArr = _this$state.sentenceArr,\n        wordIndex = _this$state.wordIndex,\n        data = _this$state.data;\n    return React.createElement(\"div\", {\n      className: \"WordB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"FullScreen\",\n      src: data.bgImg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sentence\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, sentenceArr.map((item, index) => {\n      return React.createElement(\"span\", {\n        className: index < data.sentenceTip[wordIndex] && index >= data.sentenceTip[wordIndex - 1] ? \"heightLight\" : \"\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, item);\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/lihong/workspace/myCourseWare/src/page/page5/index.js"],"names":["React","Component","Page5","constructor","props","state","sentenceArr","sentence","window","data","location","search","substring","indexOf","wordIndex","id","t","componentDidMount","setState","split","setInterval","length","clearInterval","times","componentWillUnmount","clearTimeout","callback","render","bgImg","map","item","index","sentenceTip"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,KAAN,SAAoBD,SAApB,CAA8B;AACzCE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,EADJ;AAETC,MAAAA,QAAQ,EAAEC,MAAM,CAACC,IAAP,CAAY,KAAKL,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BC,SAA3B,CAAqC,KAAKR,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BE,OAA3B,CAAmC,GAAnC,IAA0C,CAA/E,CAAZ,EAA+FN,QAFhG;AAGTO,MAAAA,SAAS,EAAC,CAHD;AAITC,MAAAA,EAAE,EAAE,KAAKX,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BC,SAA3B,CAAqC,KAAKR,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BE,OAA3B,CAAmC,GAAnC,IAA0C,CAA/E,CAJK;AAKTJ,MAAAA,IAAI,EAACD,MAAM,CAACC,IAAP,CAAY,KAAKL,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BC,SAA3B,CAAqC,KAAKR,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BE,OAA3B,CAAmC,GAAnC,IAA0C,CAA/E,CAAZ,CALI;AAMTG,MAAAA,CAAC,EAAC;AANO,KAAb;AAQH;;AACDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,QAAL,CAAc;AACVZ,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWE,QAAX,CAAoBY,KAApB,CAA0B,GAA1B;AADH,KAAd;AAGA,SAAKd,KAAL,CAAWW,CAAX,GAAaI,WAAW,CAAC,MAAI;AACzB,WAAKF,QAAL,CAAc;AACVJ,QAAAA,SAAS,EAAC,KAAKT,KAAL,CAAWS,SAAX,GAAqB;AADrB,OAAd,EAEE,MAAI;AACF,YAAG,KAAKT,KAAL,CAAWS,SAAX,IAAsB,KAAKT,KAAL,CAAWC,WAAX,CAAuBe,MAAvB,GAA8B,CAAvD,EAAyD;AACrDC,UAAAA,aAAa,CAAC,KAAKjB,KAAL,CAAWW,CAAZ,CAAb;AACA,eAAKE,QAAL,CAAc;AACVJ,YAAAA,SAAS,EAAC;AADA,WAAd;AAGH;AACJ,OATD;AAWH,KAZuB,EAYtB,KAAKT,KAAL,CAAWI,IAAX,CAAgBc,KAZM,CAAxB;AAaH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB;AACAC,IAAAA,YAAY,CAAC,KAAKpB,KAAL,CAAWW,CAAZ,CAAZ;;AACA,SAAKE,QAAL,GAAgB,CAACb,KAAD,EAAQqB,QAAR,KAAqB;AACrC;AACC,KAFD;AAGH;;AACDC,EAAAA,MAAM,GAAG;AAAA,sBACgC,KAAKtB,KADrC;AAAA,QACCC,WADD,eACCA,WADD;AAAA,QACaQ,SADb,eACaA,SADb;AAAA,QACuBL,IADvB,eACuBA,IADvB;AAEL,WACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,GAAG,EAAEA,IAAI,CAACmB,KAAtC;AAA6C,MAAA,GAAG,EAAC,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQtB,WAAW,CAACuB,GAAZ,CAAgB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC7B,aAAQ;AAAM,QAAA,SAAS,EAAEA,KAAK,GAACtB,IAAI,CAACuB,WAAL,CAAiBlB,SAAjB,CAAN,IAAmCiB,KAAK,IAAEtB,IAAI,CAACuB,WAAL,CAAiBlB,SAAS,GAAC,CAA3B,CAA1C,GAAwE,aAAxE,GAAsF,EAAvG;AAA2G,QAAA,GAAG,EAAEiB,KAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwHD,IAAxH,CAAR;AACH,KAFD,CAFR,CAFJ,CADJ;AAYH;;AAnDwC","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class Page5 extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            sentenceArr: [],\r\n            sentence: window.data[this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1)].sentence,\r\n            wordIndex:1,\r\n            id: this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1),\r\n            data:window.data[this.props.location.search.substring(this.props.location.search.indexOf(\"=\") + 1)],\r\n            t:null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            sentenceArr: this.state.sentence.split(\" \")\r\n        })\r\n        this.state.t=setInterval(()=>{\r\n            this.setState({\r\n                wordIndex:this.state.wordIndex+1\r\n            },()=>{\r\n                if(this.state.wordIndex>=this.state.sentenceArr.length+1){\r\n                    clearInterval(this.state.t)\r\n                    this.setState({\r\n                        wordIndex:0\r\n                    })\r\n                }\r\n            })\r\n            \r\n        },this.state.data.times)\r\n    }\r\n    componentWillUnmount() {\r\n        // 卸载异步操作设置状态\r\n        clearTimeout(this.state.t)\r\n        this.setState = (state, callback) => {\r\n        return\r\n        }\r\n    }\r\n    render() {\r\n        let { sentenceArr,wordIndex,data } = this.state\r\n        return (\r\n            <div className=\"WordB\">\r\n                <img className=\"FullScreen\" src={data.bgImg} alt=\"\" />\r\n                <div className=\"sentence\">\r\n                    {\r\n                        sentenceArr.map((item, index) => {\r\n                            return (<span className={index<data.sentenceTip[wordIndex]&&index>=data.sentenceTip[wordIndex-1]?\"heightLight\":\"\"} key={index}>{item}</span>)\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}